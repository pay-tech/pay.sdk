def gitShortRev() {
    def gitCommit = ""
    def proc = "git rev-parse --short HEAD".execute()
    proc.in.eachLine { line -> gitCommit = line }
    proc.err.eachLine { line -> println line }
    proc.waitFor()
    return gitCommit
}
ext.IS_DEV_EVN = "debug" == VARIANT.toLowerCase()
ext.IS_TEST_EVN = "release" == VARIANT.toLowerCase()
ext.IS_ONLINE_EVN = "official" == VARIANT.toLowerCase()
ext.SDK_ARTIFACT_ID = "sdk"
ext.SDK_GROUP_ID = "com.tec.pay"

ext.VERSION_NAME = "0.3.0"
ext.VERSION_CODE = 3
switch (VARIANT.toLowerCase()) {
    case "debug":
        ext.VERSION_NAME = ext.VERSION_NAME + "-${gitShortRev()}-DEBUG"
        ext.BINTRAY_REPO = "test"
        break
    case "release":
        ext.VERSION_NAME = ext.VERSION_NAME + "-${ext.VERSION_CODE}" +"-TEST"
        ext.BINTRAY_REPO = "test"
        break
    case "official":
        ext.BINTRAY_REPO = "official"
        break
}
